make "INIT_CFLAGS=-DTEST_NO_NS -DTEST=`case net_testinput in *_*) echo net_testinput;; *) echo user_net_testinput;; esac`" obj/kern/kernel.img obj/fs/fs.img
make[1]: Entering directory `/home/someone/workspace/6.828/lab'
echo "   -fno-builtin -I. -MD -fno-omit-frame-pointer -Wall -Wno-format -Wno-unused -Werror -gstabs -m32 -fno-tree-ch -I./net/lwip/include -I./net/lwip/include/ipv4 -I./net/lwip/jos -fno-stack-protector -DJOS_KERNEL -gstabs" | cmp -s obj/.vars.KERN_CFLAGS || echo "   -fno-builtin -I. -MD -fno-omit-frame-pointer -Wall -Wno-format -Wno-unused -Werror -gstabs -m32 -fno-tree-ch -I./net/lwip/include -I./net/lwip/include/ipv4 -I./net/lwip/jos -fno-stack-protector -DJOS_KERNEL -gstabs" > obj/.vars.KERN_CFLAGS
echo "-DTEST_NO_NS -DTEST=net_testinput" | cmp -s obj/.vars.INIT_CFLAGS || echo "-DTEST_NO_NS -DTEST=net_testinput" > obj/.vars.INIT_CFLAGS
+ cc kern/syscall.c
gcc -pipe -nostdinc    -fno-builtin -I. -MD -fno-omit-frame-pointer -Wall -Wno-format -Wno-unused -Werror -gstabs -m32 -fno-tree-ch -I./net/lwip/include -I./net/lwip/include/ipv4 -I./net/lwip/jos -fno-stack-protector -DJOS_KERNEL -gstabs -c -o obj/kern/syscall.o kern/syscall.c
echo "   -fno-builtin -I. -MD -fno-omit-frame-pointer -Wall -Wno-format -Wno-unused -Werror -gstabs -m32 -fno-tree-ch -I./net/lwip/include -I./net/lwip/include/ipv4 -I./net/lwip/jos -fno-stack-protector -DJOS_USER -gstabs" | cmp -s obj/.vars.USER_CFLAGS || echo "   -fno-builtin -I. -MD -fno-omit-frame-pointer -Wall -Wno-format -Wno-unused -Werror -gstabs -m32 -fno-tree-ch -I./net/lwip/include -I./net/lwip/include/ipv4 -I./net/lwip/jos -fno-stack-protector -DJOS_USER -gstabs" > obj/.vars.USER_CFLAGS
echo "" | cmp -s obj/.vars.NET_CFLAGS || echo "" > obj/.vars.NET_CFLAGS
echo "-m elf_i386 -T kern/kernel.ld -nostdlib" | cmp -s obj/.vars.KERN_LDFLAGS || echo "-m elf_i386 -T kern/kernel.ld -nostdlib" > obj/.vars.KERN_LDFLAGS
+ ld obj/kern/kernel
ld -o obj/kern/kernel -m elf_i386 -T kern/kernel.ld -nostdlib obj/kern/entry.o obj/kern/entrypgdir.o obj/kern/init.o obj/kern/console.o obj/kern/monitor.o obj/kern/pmap.o obj/kern/env.o obj/kern/kclock.o obj/kern/picirq.o obj/kern/printf.o obj/kern/trap.o obj/kern/trapentry.o obj/kern/sched.o obj/kern/syscall.o obj/kern/kdebug.o  obj/kern/printfmt.o  obj/kern/readline.o  obj/kern/string.o obj/kern/mpentry.o obj/kern/mpconfig.o obj/kern/lapic.o obj/kern/spinlock.o obj/kern/e1000.o obj/kern/pci.o obj/kern/time.o /usr/lib/gcc/x86_64-linux-gnu/4.8/32/libgcc.a -b binary  obj/user/hello  obj/user/buggyhello  obj/user/buggyhello2  obj/user/evilhello  obj/user/testbss  obj/user/divzero  obj/user/breakpoint  obj/user/softint  obj/user/badsegment  obj/user/faultread  obj/user/faultreadkernel  obj/user/faultwrite  obj/user/faultwritekernel  obj/user/idle  obj/user/yield  obj/user/dumbfork  obj/user/stresssched  obj/user/faultdie  obj/user/faultregs  obj/user/faultalloc  obj/user/faultallocbad  obj/user/faultnostack  obj/user/faultbadhandler  obj/user/faultevilhandler  obj/user/forktree  obj/user/sendpage  obj/user/spin  obj/user/fairness  obj/user/pingpong  obj/user/pingpongs  obj/user/primes  obj/user/testfile  obj/user/spawnhello  obj/user/icode  obj/fs/fs  obj/user/testtime  obj/user/httpd  obj/user/echosrv  obj/user/echotest  obj/net/testoutput  obj/net/testinput  obj/net/ns  obj/user/testpteshare  obj/user/testfdsharing  obj/user/testpipe  obj/user/testpiperace  obj/user/testpiperace2  obj/user/primespipe  obj/user/testkbd  obj/user/testshell  obj/user/cpuhog
objdump -S obj/kern/kernel > obj/kern/kernel.asm
nm -n obj/kern/kernel > obj/kern/kernel.sym
+ mk obj/kern/kernel.img
dd if=/dev/zero of=obj/kern/kernel.img~ count=10000 2>/dev/null
dd if=obj/boot/boot of=obj/kern/kernel.img~ conv=notrunc 2>/dev/null
dd if=obj/kern/kernel of=obj/kern/kernel.img~ seek=1 conv=notrunc 2>/dev/null
mv obj/kern/kernel.img~ obj/kern/kernel.img
make[1]: `obj/fs/fs.img' is up to date.
make[1]: Leaving directory `/home/someone/workspace/6.828/lab'
/home/someone/workspace/qemu/build/bin/qemu-system-i386 -hda obj/kern/kernel.img -serial mon:stdio -gdb tcp::26000 -D qemu.log -smp 1 -hdb obj/fs/fs.img -net user -net nic,model=e1000 -redir tcp:26001::7 -redir tcp:26002::80 -redir udp:26001::7 -net dump,file=qemu.pcap 
6828 decimal is 15254 octal!
Physical memory: 66556K available, base = 640K, extended = 65532K
check_page_alloc() succeeded!
check_page() succeeded!
check_kern_pgdir() succeeded!
check_page_installed_pgdir() succeeded!
SMP: CPU 0 found 1 CPU(s)
enabled interrupts: 1 2 4
PCI: 00:00.0: 8086:1237: class: 6.0 (Bridge device) irq: 0
PCI: 00:01.0: 8086:7000: class: 6.1 (Bridge device) irq: 0
PCI: 00:01.1: 8086:7010: class: 1.1 (Storage controller) irq: 0
PCI: 00:01.3: 8086:7113: class: 6.80 (Bridge device) irq: 9
PCI: 00:02.0: 1013:00b8: class: 3.0 (Display controller) irq: 0
PCI: 00:03.0: 8086:100e: class: 2.0 (Network controller) irq: 11
PCI function 00:03.0 (8086:100e) enabled
status register value: 80080783
FS is running
FS can do I/O
Device 1 presence: 1
block cache is good
superblock is good
bitmap is good
alloc_block is good
file_open is good
file_get_block is good
file_flush is good
file_truncate is good
file rewrite is good
Sending ARP announcement...
Length of received packet from network: 64
